maxTries=10
maxBadDeltas=3
tries = 0
badDeltas=0

S0:
  tries++
  if (tries > maxTries)
    ERROR
    return

  Determine X
  Determine Y
  Xstart = X
  Ystart = Y
  axe = largest(X,Y)
  otheraxe = smaller(X,Y)
  badDeltas=0
  START

S1
  Delay 200
  if balanced(axe)
    STOP
    if balanced(otheraxe)
      DONE
    else
      S0
  if final(any(axe))
    STOP
  // Filter out bad deltas
  if deltaX/Y > maxDelta
    if (badDeltas >= maxBadDeltas)
      STOP
      S0
    badDeltas++
